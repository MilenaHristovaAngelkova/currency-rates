{"version":3,"sources":["LongestArray.js","ConversionData.js","App.js","index.js"],"names":["LongestArray","props","currRates","Object","values","outputConversions","sort","max","i","length","count","j","toFixed","longestArr","ConversionsData","entries","currencyRates","key","value","includes","selectedOption","hasOwnProperty","toUpperCase","group1","group2","group3","a","b","map","entry","className","colSpan","keys","App","currs","useState","setSelectedOption","isPending","setIsPending","errorM","setErrorM","setCurrencyRates","currentDate","Date","toLocaleString","year","month","day","urlsData","url","fetch","then","res","ok","Error","json","data","d","catch","err","message","useEffect","localStorage","getItem","JSON","parse","setItem","stringify","htmlFor","name","id","defaultValue","onChange","e","target","curr","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9af0842a.chunk.js","sourcesContent":["const LongestArray = (props) => {\r\n    const longestArr = () => {\r\n        let currRates = Object.values(props.outputConversions);\r\n        currRates.sort();\r\n        let max = 0;\r\n\r\n        for (let i = 0; i < currRates.length; i++) {\r\n            let count = 1;\r\n            for (let j = i + 1; j < currRates.length; j++) {\r\n                if ((currRates[j].toFixed(1) - currRates[i].toFixed(1)) <= 0.5) {\r\n                    count++;\r\n\r\n                    if (count > max) {\r\n                        max = count;\r\n                    }\r\n                } else {\r\n                    count = 1;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        return max;\r\n    }\r\n\r\n    return (\r\n        <p>The amount of rates for the selected currency where exchange rates \r\n        differ among them by no more than 0.5 is <b>{longestArr()}</b>.</p>\r\n    );\r\n}\r\n \r\nexport default LongestArray;","import LongestArray from \"./LongestArray\";\r\n\r\nconst ConversionsData = (props) => {\r\n    let outputConversions = {};\r\n    for (let [key, value] of Object.entries(props.currencyRates)) {\r\n        if (key.includes(props.selectedOption)) {\r\n            if (!outputConversions.hasOwnProperty(props.selectedOption.toUpperCase())) {\r\n                outputConversions[key] = value;\r\n            } else {\r\n                outputConversions = {...outputConversions, [key]: value};\r\n            }\r\n        }\r\n    }\r\n\r\n    let group1 = {};\r\n    let group2 = {};\r\n    let group3 = {};\r\n\r\n    Object.entries(outputConversions).sort((a, b) => {\r\n        return a[1] - b[1];\r\n    }).map(entry => {\r\n        if (entry[1].toFixed(1) < 1) {\r\n           return group1[entry[0]] = entry[1];\r\n        } else if (entry[1].toFixed(1) >= 1 && entry[1].toFixed(1) < 1.5) {\r\n           return group2[entry[0]] = entry[1];\r\n        } else if (entry[1].toFixed(1) >= 1.5) {\r\n           return group3[entry[0]] = entry[1];\r\n        } else {\r\n            return null;\r\n        }\r\n    });\r\n\r\n    return (\r\n        <article className=\"conversions\">\r\n            <table>\r\n                <thead>\r\n                    <tr className=\"table-heading\">\r\n                        <th colSpan=\"2\">Exchange Rates under 1</th>\r\n                    </tr>\r\n                    <tr className=\"col-headings\">\r\n                        <th>Currencies</th>\r\n                        <th>Rate</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {Object.entries(group1).sort((a, b) => {\r\n                            return a[1] - b[1];\r\n                        }).map(entry => {\r\n                            return(\r\n                               <tr key={entry[0]}>\r\n                                    <td>{entry[0]}</td>\r\n                                    <td>{entry[1].toFixed(1)}</td>\r\n                               </tr>\r\n                            )\r\n                        })\r\n                    }\r\n                </tbody>\r\n                <tfoot>\r\n                    <tr>\r\n                        <td>Count</td>\r\n                        <td>{Object.keys(group1).length}</td>\r\n                    </tr>\r\n                </tfoot>\r\n            </table>\r\n            <table>\r\n                <thead>\r\n                    <tr className=\"table-heading\">\r\n                        <th colSpan=\"2\">Exchange Rates between 1 and 1.4</th>\r\n                    </tr>\r\n                    <tr className=\"col-headings\">\r\n                        <th>Currencies</th>\r\n                        <th>Rate</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {Object.entries(group2).sort((a, b) => {\r\n                            return a[1] - b[1];\r\n                        }).map(entry => {\r\n                            return(\r\n                               <tr key={entry[0]}>\r\n                                    <td>{entry[0]}</td>\r\n                                    <td>{entry[1].toFixed(1)}</td>\r\n                               </tr>\r\n                            )\r\n                        })\r\n                    }\r\n                </tbody>\r\n                <tfoot>\r\n                    <tr>\r\n                        <td>Count</td>\r\n                        <td>{Object.keys(group2).length}</td>\r\n                    </tr>\r\n                </tfoot>\r\n            </table>\r\n            <table>\r\n                <thead>\r\n                    <tr className=\"table-heading\">\r\n                        <th colSpan=\"2\">Exchange Rates from 1.5</th>\r\n                    </tr>\r\n                    <tr className=\"col-headings\">\r\n                        <th>Currencies</th>\r\n                        <th>Rate</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {Object.entries(group3).sort((a, b) => {\r\n                            return a[1] - b[1];\r\n                        }).map(entry => {\r\n                            return(\r\n                               <tr key={entry[0]}>\r\n                                    <td>{entry[0]}</td>\r\n                                    <td>{entry[1].toFixed(1)}</td>\r\n                               </tr>\r\n                            )\r\n                        })\r\n                    }\r\n                </tbody>\r\n                <tfoot>\r\n                    <tr>\r\n                        <td>Count</td>\r\n                        <td>{Object.keys(group3).length}</td>\r\n                    </tr>\r\n                </tfoot>\r\n            </table>\r\n            <LongestArray outputConversions={outputConversions}/>        \r\n        </article>\r\n    );\r\n}\r\n \r\nexport default ConversionsData;","import { useEffect, useState } from 'react';\nimport ConversionsData from './ConversionData';\n\nfunction App() {\n  const currs = [\"usd\", \"eur\", \"aud\", \"cad\", \"chf\", \"nzd\", \"bgn\"];\n  const [selectedOption, setSelectedOption] = useState(\"usd\");\n  const [isPending, setIsPending] = useState(true);\n  const [errorM, setErrorM] = useState(\"\");\n  const [currencyRates, setCurrencyRates] = useState({});\n  let date = new Date();\n  let currentDate = date.toLocaleString(\"az-AZ\", {  \n      year: \"numeric\",\n      month: \"2-digit\",\n      day: \"2-digit\"\n  })\n  \n  let urlsData = async () => {\n    for await (let i of currs) {\n        for await (let j of currs) {\n            if (i !== j) {\n                let url = `https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/latest/currencies/${i}/${j}.json`;\n                await fetch(url)\n                .then(res => {\n                    if (!res.ok) {\n                        setIsPending(false);\n                        setErrorM(\"Could not peform the current fetch request.\");\n                        throw new Error (\"Could not peform the current fetch request.\")\n                    }\n                    return res.json();\n                })\n                .then(data => {\n                    setIsPending(false);\n                    setCurrencyRates((d) => {\n                        return {\n                        ...d, \n                        [`${i}-${j}`]: Object.values(data)[1]\n                        }\n                    })\n                })\n                .catch(err => {\n                    setIsPending(false);\n                    setErrorM(err.message);\n                    return err.message;\n                })\n            }\n        }\n    }\n  }\n\n  useEffect(() => {\n    if (localStorage.getItem(`${selectedOption}-${currentDate}`)) {\n        setCurrencyRates(JSON.parse(localStorage.getItem(`${selectedOption}-${currentDate}`)));\n        setIsPending(false);\n    } else {\n        urlsData();\n        localStorage.setItem(currentDate, JSON.stringify(currencyRates));\n    }\n  }, []);\n\n  return (\n      <section className=\"home\">\n          <h1>Exchange Rates Information</h1>    \n          <form>\n              <label htmlFor=\"currency\">See currency rates for: </label>\n              <select name=\"currency\" id=\"currency\" defaultValue=\"usd\" onChange={(e) => setSelectedOption(e.target.value)}>\n              {currs.map(curr => {\n                  return(\n                  <option value={curr} key={curr} id={curr}>{curr.toUpperCase()}</option>\n                  )\n              })}\n              </select>\n          </form>\n          {isPending && <p className=\"state-info\">Loading...</p>}\n          {errorM && <p className=\"state-info\">{ errorM }</p>}\n          {currencyRates && selectedOption ? \n          <ConversionsData selectedOption={selectedOption} currencyRates={currencyRates} /> : \n          <p className=\"state-info\">Something went wrong.</p>}\n      </section>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}