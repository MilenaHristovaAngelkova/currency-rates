(this["webpackJsonpcurrency-rates-converter"]=this["webpackJsonpcurrency-rates-converter"]||[]).push([[0],{14:function(e,t,c){},17:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),s=c(8),a=c.n(s),i=(c(14),c(3)),j=c.n(i),o=c(4),l=c(5),d=c(9),h=c(2),u=c(7),b=c(0),x=function(e){return Object(b.jsxs)("p",{children:["The amount of rates for the selected currency where exchange rates differ among them by no more than 0.5 is ",Object(b.jsx)("b",{children:function(){var t=Object.values(e.outputConversions);t.sort();for(var c=0,n=0;n<t.length;n++)for(var r=1,s=n+1;s<t.length;s++){if(!(t[s].toFixed(1)-t[n].toFixed(1)<=.5)){r=1;break}++r>c&&(c=r)}return c}()}),"."]})},O=function(e){for(var t={},c=0,n=Object.entries(e.currencyRates);c<n.length;c++){var r=Object(h.a)(n[c],2),s=r[0],a=r[1];s.includes(e.selectedOption)&&(t.hasOwnProperty(e.selectedOption.toUpperCase())?t=Object(l.a)(Object(l.a)({},t),{},Object(o.a)({},s,a)):t[s]=a)}var i={},j={},d={};return Object.entries(t).sort((function(e,t){return e[1]-t[1]})).map((function(e){return e[1].toFixed(1)<1?i[e[0]]=e[1]:e[1].toFixed(1)>=1&&e[1].toFixed(1)<1.5?j[e[0]]=e[1]:e[1].toFixed(1)>=1.5?d[e[0]]=e[1]:null})),Object(b.jsxs)("article",{className:"conversions",children:[Object(b.jsxs)("table",{children:[Object(b.jsxs)("thead",{children:[Object(b.jsx)("tr",{className:"table-heading",children:Object(b.jsx)("th",{colSpan:"2",children:"Exchange Rates under 1"})}),Object(b.jsxs)("tr",{className:"col-headings",children:[Object(b.jsx)("th",{children:"Currencies"}),Object(b.jsx)("th",{children:"Rate"})]})]}),Object(b.jsx)("tbody",{children:Object.entries(i).sort((function(e,t){return e[1]-t[1]})).map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e[0]}),Object(b.jsx)("td",{children:e[1].toFixed(1)})]},e[0])}))}),Object(b.jsx)("tfoot",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Count"}),Object(b.jsx)("td",{children:Object.keys(i).length})]})})]}),Object(b.jsxs)("table",{children:[Object(b.jsxs)("thead",{children:[Object(b.jsx)("tr",{className:"table-heading",children:Object(b.jsx)("th",{colSpan:"2",children:"Exchange Rates between 1 and 1.4"})}),Object(b.jsxs)("tr",{className:"col-headings",children:[Object(b.jsx)("th",{children:"Currencies"}),Object(b.jsx)("th",{children:"Rate"})]})]}),Object(b.jsx)("tbody",{children:Object.entries(j).sort((function(e,t){return e[1]-t[1]})).map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e[0]}),Object(b.jsx)("td",{children:e[1].toFixed(1)})]},e[0])}))}),Object(b.jsx)("tfoot",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Count"}),Object(b.jsx)("td",{children:Object.keys(j).length})]})})]}),Object(b.jsxs)("table",{children:[Object(b.jsxs)("thead",{children:[Object(b.jsx)("tr",{className:"table-heading",children:Object(b.jsx)("th",{colSpan:"2",children:"Exchange Rates from 1.5"})}),Object(b.jsxs)("tr",{className:"col-headings",children:[Object(b.jsx)("th",{children:"Currencies"}),Object(b.jsx)("th",{children:"Rate"})]})]}),Object(b.jsx)("tbody",{children:Object.entries(d).sort((function(e,t){return e[1]-t[1]})).map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e[0]}),Object(b.jsx)("td",{children:e[1].toFixed(1)})]},e[0])}))}),Object(b.jsx)("tfoot",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Count"}),Object(b.jsx)("td",{children:Object.keys(d).length})]})})]}),Object(b.jsx)(x,{outputConversions:t})]})};var f=function(){var e=["usd","eur","aud","cad","chf","nzd","bgn"],t=Object(n.useState)("usd"),c=Object(h.a)(t,2),r=c[0],s=c[1],a=Object(n.useState)(!0),i=Object(h.a)(a,2),x=i[0],f=i[1],p=Object(n.useState)(""),m=Object(h.a)(p,2),g=m[0],v=m[1],y=Object(n.useState)({}),k=Object(h.a)(y,2),w=k[0],S=k[1],C=(new Date).toLocaleString("az-AZ",{year:"numeric",month:"2-digit",day:"2-digit"}),N=function(){var t=Object(d.a)(j.a.mark((function t(){var c,n,r,s,a,i,d,h,b,x,O;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=!1,n=!1,t.prev=2,s=j.a.mark((function t(){var c,n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=i.value,d=!1,h=!1,t.prev=3,n=j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=O.value,c===t){e.next=5;break}return n="https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/latest/currencies/".concat(c,"/").concat(t,".json"),e.next=5,fetch(n).then((function(e){if(!e.ok)throw f(!1),v("Could not peform the current fetch request."),new Error("Could not peform the current fetch request.");return e.json()})).then((function(e){f(!1),S((function(n){return Object(l.a)(Object(l.a)({},n),{},Object(o.a)({},"".concat(c,"-").concat(t),Object.values(e)[1]))}))})).catch((function(e){return f(!1),v(e.message),e.message}));case 5:case"end":return e.stop()}}),e)})),x=Object(u.a)(e);case 6:return t.next=8,x.next();case 8:if(!(d=!(O=t.sent).done)){t.next=13;break}return t.delegateYield(n(),"t0",10);case 10:d=!1,t.next=6;break;case 13:t.next=19;break;case 15:t.prev=15,t.t1=t.catch(3),h=!0,b=t.t1;case 19:if(t.prev=19,t.prev=20,!d||null==x.return){t.next=24;break}return t.next=24,x.return();case 24:if(t.prev=24,!h){t.next=27;break}throw b;case 27:return t.finish(24);case 28:return t.finish(19);case 29:case"end":return t.stop()}}),t,null,[[3,15,19,29],[20,,24,28]])})),a=Object(u.a)(e);case 5:return t.next=7,a.next();case 7:if(!(c=!(i=t.sent).done)){t.next=12;break}return t.delegateYield(s(),"t0",9);case 9:c=!1,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t1=t.catch(2),n=!0,r=t.t1;case 18:if(t.prev=18,t.prev=19,!c||null==a.return){t.next=23;break}return t.next=23,a.return();case 23:if(t.prev=23,!n){t.next=26;break}throw r;case 26:return t.finish(23);case 27:return t.finish(18);case 28:case"end":return t.stop()}}),t,null,[[2,14,18,28],[19,,23,27]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){localStorage.getItem("".concat(r,"-").concat(C))?(S(JSON.parse(localStorage.getItem("".concat(r,"-").concat(C)))),f(!1)):(N(),localStorage.setItem(C,JSON.stringify(w)))}),[]),Object(b.jsxs)("section",{className:"home",children:[Object(b.jsx)("h1",{children:"Exchange Rates Information"}),Object(b.jsxs)("form",{children:[Object(b.jsx)("label",{htmlFor:"currency",children:"See currency rates for: "}),Object(b.jsx)("select",{name:"currency",id:"currency",defaultValue:"usd",onChange:function(e){return s(e.target.value)},children:e.map((function(e){return Object(b.jsx)("option",{value:e,id:e,children:e.toUpperCase()},e)}))})]}),x&&Object(b.jsx)("p",{className:"state-info",children:"Loading..."}),g&&Object(b.jsx)("p",{className:"state-info",children:g}),w&&r?Object(b.jsx)(O,{selectedOption:r,currencyRates:w}):Object(b.jsx)("p",{className:"state-info",children:"Something went wrong."})]})};a.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(f,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.9af0842a.chunk.js.map